<UserControl x:Class="Do_An.ThoiKhoaBieu"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Height="700" Width="1150">

    <Grid Background="#FFFDFDFD" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ===== TIÊU ĐỀ ===== -->
        <TextBlock Text="THỜI KHÓA BIỂU"
                   FontSize="30"
                   FontWeight="Bold"
                   Foreground="#2D89EF"
                   HorizontalAlignment="Center"
                   Margin="0,10,0,20"/>

        <!-- ===== TUẦN HIỆN TẠI + NÚT ===== -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="20,0,0,10">

            <TextBlock Text="Tuần hiện tại:"
                       FontSize="20"
                       FontWeight="SemiBold"
                       VerticalAlignment="Center"
                       Margin="0,0,10,0"/>

            <TextBox x:Name="txtCurrentWeek"
                     Width="322"
                     FontSize="20"
                     IsReadOnly="True"
                     TextAlignment="Center"
                     BorderBrush="#2D89EF"
                     BorderThickness="2"
                     Padding="5"/>

            <!-- Nút tuần trước -->
            <Button Content="←"
                    Width="40"
                    Height="32"
                    Margin="15,0"
                    ToolTip="Tuần trước"
                    Click="btnPrevWeek_Click"/>

            <!-- Nút tuần sau -->
            <Button Content="→"
                    Width="40"
                    Height="32"
                    ToolTip="Tuần tiếp theo"
                    Click="btnNextWeek_Click"/>

            <!-- Nút quay về tuần hiện tại -->
            <Button Content="Hiện tại"
                    Margin="15,0"
                    FontSize="16"
                    Padding="5,0"
                    Click="btnTuanHienTai_Click" Width="119"/>
        </StackPanel>

        <!-- ===== BẢNG DỮ LIỆU ===== -->
        <Border Grid.Row="2"
            Margin="20"
            BorderBrush="#BFC2C5"
            BorderThickness="2"
            CornerRadius="10"
            Background="White"
            Padding="10">

            <Border.Effect>
                <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.4"/>
            </Border.Effect>

            <DataGrid x:Name="dgvTKB"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      IsReadOnly="True"
                      FontSize="16"
                      HeadersVisibility="Column"
                      AlternatingRowBackground="#FFF3F3F3"
                      GridLinesVisibility="All"
                      SelectionMode="Single"
                      RowHeight="38"
                      ColumnHeaderHeight="42"
                      BorderThickness="0"
                      Margin="5">

                <!-- ===== RESOURCES / STYLE ===== -->
                <DataGrid.Resources>
                    <!-- Style Header -->
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontSize" Value="15"/>
                        <Setter Property="Background" Value="#2D89EF"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Padding" Value="8"/>
                    </Style>

                    <!-- Style Cell -->
                    <Style TargetType="DataGridCell">
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                    </Style>
                </DataGrid.Resources>

                <!-- ===== CÁC CỘT ===== -->
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Thứ" Binding="{Binding Thu}" Width="*"/>
                    <DataGridTextColumn Header="Mã Lớp" Binding="{Binding MaLop}" Width="*"/>
                    <DataGridTextColumn Header="Tên Môn Học" Binding="{Binding TenMonHoc}" Width="2*"/>
                    <DataGridTextColumn Header="Giờ Học" Binding="{Binding GioHoc}" Width="*"/>
                    <DataGridTextColumn Header="Phòng" Binding="{Binding Phong}" Width="*"/>
                    <DataGridTextColumn Header="Giáo Viên" Binding="{Binding GiaoVien}" Width="2*"/>
                </DataGrid.Columns>

            </DataGrid>
        </Border>
    </Grid>
</UserControl>
